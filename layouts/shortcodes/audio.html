<div class="article-audio">
  <div class="audio-header">
    <span class="audio-label">ðŸŽ§ Listen to this article</span>
    <a href="{{ .Get "src" }}" download class="audio-download" title="Download audio">â†“ Download</a>
  </div>
  <audio controls preload="metadata" id="audio-player">
    <source src="{{ .Get "src" }}" type="audio/mpeg">
    Your browser does not support the audio element.
  </audio>
  <div class="speed-controls">
    <span class="speed-label">Speed:</span>
    <button class="speed-btn" data-speed="0.75">0.75x</button>
    <button class="speed-btn active" data-speed="1">1x</button>
    <button class="speed-btn" data-speed="1.25">1.25x</button>
    <button class="speed-btn" data-speed="1.5">1.5x</button>
    <button class="speed-btn" data-speed="2">2x</button>
  </div>
</div>

<script>
document.addEventListener('DOMContentLoaded', function() {
  const audio = document.getElementById('audio-player');
  const speedBtns = document.querySelectorAll('.speed-btn');

  speedBtns.forEach(btn => {
    btn.addEventListener('click', function() {
      const speed = parseFloat(this.dataset.speed);
      audio.playbackRate = speed;
      speedBtns.forEach(b => b.classList.remove('active'));
      this.classList.add('active');
    });
  });
});
</script>
